# ูุธุงู ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูููุงุฏ ูุงููุดุชุฑูุงุช
## Product Requirements Document (PRD)

---

## ุงููุดููุฉ ุงูุฃุตููุฉ
ุชุทุจูู ูุชูุงูู ูุฅุฏุงุฑุฉ ุทูุจุงุช ุงูููุงุฏ ูุฃูุงูุฑ ุงูุดุฑุงุก ูุฑุจุท ุจูู ุงููุดุฑููู ูุงููููุฏุณูู ููุฏูุฑู ุงููุดุชุฑูุงุช.

## ุงููุณุชุฎุฏููู ุงููุณุชูุฏููู
1. **ูุฏูุฑ ุงููุธุงู** (system_admin) - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุฅุนุฏุงุฏุงุช
2. **ุงููุดุฑู** (supervisor) - ุฅูุดุงุก ุทูุจุงุช ุงูููุงุฏ ูุฅุฏุงุฑุฉ ุงููุดุงุฑูุน
3. **ุงููููุฏุณ** (engineer) - ูุฑุงุฌุนุฉ ูุงุนุชูุงุฏ ุงูุทูุจุงุช
4. **ูุฏูุฑ ุงููุดุชุฑูุงุช** (procurement_manager) - ุฅุฏุงุฑุฉ ุฃูุงูุฑ ุงูุดุฑุงุก ูุงูููุฑุฏูู
5. **ูููุฏุณ ุงููููุงุช** (quantity_engineer) - ูุธุงู ุงููููุงุช ูุงููุจุงูู

---

## ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ ุงูููููุฐุฉ

### 1. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุตุงุฏูุฉ
- ุชุณุฌูู ุงูุฏุฎูู ุจู JWT
- ุฃุฏูุงุฑ ูุชุนุฏุฏุฉ ูููุณุชุฎุฏููู
- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ

### 2. ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน
- ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู ุงููุดุงุฑูุน
- ุญุงูุงุช ุงููุดุงุฑูุน (ูุดุทุ ููุชููุ ูุนูู)
- ุฑุจุท ุงูุทูุจุงุช ูุงูุฃูุงูุฑ ุจุงููุดุงุฑูุน

### 3. ูุชุงููุฌ ุงูุฃุณุนุงุฑ
- ุฅุฏุงุฑุฉ ุงูุฃุตูุงู ูุน ุฃููุงุฏ ุชููุงุฆูุฉ
- ูุธุงู ุงูุฃุณูุงุก ุงูุจุฏููุฉ (Aliases)
- ุงูุจุญุซ ูู ุงููุชุงููุฌ

### 4. ุทูุจุงุช ุงูููุงุฏ
- ุฅูุดุงุก ุทูุจุงุช ูู ุงููุดุฑููู
- ุงุนุชูุงุฏ ูู ุงููููุฏุณูู
- ุชุชุจุน ุญุงูุฉ ุงูุทูุจุงุช

### 5. ุฃูุงูุฑ ุงูุดุฑุงุก
- ุฅูุดุงุก ุฃูุงูุฑ ูู ุงูุทูุจุงุช ุงููุนุชูุฏุฉ
- ุฅูุดุงุก ุฃูุงูุฑ ูู ุทูุจุงุช ุนุฑูุถ ุงูุฃุณุนุงุฑ
- ุชุชุจุน ุงูุชุณููู

### 6. ูุธุงู ุงููููุงุช (Buildings System)
- ุฅุฏุงุฑุฉ ููุงุฐุฌ ุงููุญุฏุงุช
- ุญุณุงุจ ุงููููุงุช
- ุชูุงุฑูุฑ ุงูุชูุฑูุฏ
- ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช

---

## ุงูุฅุตูุงุญุงุช ุงููููุฌุฒุฉ (21 ููุงูุฑ 2026)

### 1. ุฅุฒุงูุฉ ุงููุดุงุฑูุน ูู ูุธุงู ุงููููุงุช โ
- **ุงููุดููุฉ**: ูุง ูููู ุญุฐู/ุฅุฒุงูุฉ ุงููุดุงุฑูุน ูู ูุธุงู ุงููููุงุช ููุท
- **ุงูุญู**: 
  - ุฅุถุงูุฉ ุญูู `is_building_project` ูู ุฌุฏูู ุงููุดุงุฑูุน
  - ุฅุถุงูุฉ API endpoints ุฌุฏูุฏุฉ:
    - `GET /api/v2/buildings/projects` - ุนุฑุถ ุงููุดุงุฑูุน ุงููููุนููุฉ ูู ูุธุงู ุงููููุงุช ููุท
    - `DELETE /api/v2/buildings/projects/{id}` - ุฅุฒุงูุฉ ูุดุฑูุน ูู ูุธุงู ุงููููุงุช (ุฅุฎูุงุก ูููุณ ุญุฐู)
    - `POST /api/v2/buildings/projects/{id}/enable` - ุฅุนุงุฏุฉ ุชูุนูู ูุดุฑูุน ูู ูุธุงู ุงููููุงุช
  - ุฅุถุงูุฉ ุฒุฑ ุงูุฅุฒุงูุฉ (๐๏ธ) ุจุฌุงูุจ ูู ูุดุฑูุน ูู ูุงุฌูุฉ ูุธุงู ุงููููุงุช
- **ุงููููุงุช**: 
  - `backend/database/models.py` - ุฅุถุงูุฉ ุญูู is_building_project
  - `backend/routes/v2_buildings_routes.py` - ุฅุถุงูุฉ APIs ุงูุฌุฏูุฏุฉ
  - `frontend/src/pages/BuildingsSystem.js` - ุชุญุฏูุซ ุงููุงุฌูุฉ

### 2. ุฅุตูุงุญ ุชูุฑูุฑ ุงูุชูุฑูุฏ โ
- **ุงููุดููุฉ**: ุฎุทุฃ "ูุดู ูู ุชุญููู ุงูุชูุฑูุฑ" ูู ูุธุงู ุงููููุงุช
- **ุงูุญู**: 
  - ุชุญุฏูุซ API endpoint `/api/v2/buildings/reports/supply-details/{project_id}` ูููุฑุฌุน ุงูุจูุงูุงุช ุจุงูุดูู ุงููุชููุน
  - ุชุญุฏูุซ Frontend component `SupplyAdvancedReport.js` ููุชุนุงูู ูุน ุงูุจูุงูุงุช ุงููุงุฑุบุฉ
- **ุงููููุงุช**: 
  - `backend/routes/v2_buildings_routes.py`
  - `frontend/src/components/SupplyAdvancedReport.js`

### 3. ุฅุตูุงุญ ูููุงุช ุงููุฑูุฑ โ
- **ุงููุดููุฉ**: ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู ูุง ุชุนูู
- **ุงูุญู**: ุฅุนุงุฏุฉ ุชุนููู ูููุงุช ุงููุฑูุฑ ูููุณุชุฎุฏููู

---

## ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ

### ุงููุณุชุฎุฏููู
| ุงูุฏูุฑ | ุงูุจุฑูุฏ ุงูุฅููุชุฑููู | ูููุฉ ุงููุฑูุฑ |
|-------|------------------|-------------|
| ูุฏูุฑ ุงููุธุงู | admin@system.com | password |
| ูุดุฑู | a1@test.com | password |
| ูููุฏุณ | a2@test.com | password |
| ูุฏูุฑ ูุดุชุฑูุงุช | notofall@gmail.com | password |

---

## ุงูููุงู ุงููุงุฏูุฉ

### P1 - ุฃููููุฉ ุนุงููุฉ
- [ ] ุชุฑุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู PostgreSQL (ูุชุทูุจ ุจูุงูุงุช ุงูุงุชุตุงู ูู ุงููุณุชุฎุฏู)

### P2 - ุฃููููุฉ ูุชูุณุทุฉ
- [ ] ุฅุนุงุฏุฉ ููููุฉ ุงููููุงุช ุงููุจูุฑุฉ (SupervisorDashboard.js, ProcurementDashboard.js)
- [ ] ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูู ูุงุฌูุงุช ุงูุฅุฏุงุฑุฉ

### P3 - ุฃููููุฉ ููุฎูุถุฉ
- [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุชูุงุฑูุฑ
- [ ] ุชุญุณูู ุงูุฃุฏุงุก

---

## ุงููููู ุงูุชููู

### Backend (FastAPI + SQLAlchemy)
```
/app/backend/
โโโ app/
โ   โโโ repositories/    # Data access layer
โ   โโโ services/        # Business logic
โ   โโโ dependencies.py  # Dependency injection
โโโ database/
โ   โโโ models.py        # SQLAlchemy models
โ   โโโ connection.py    # Database configuration
โโโ routes/              # API endpoints
โโโ server.py           # Application entry
```

### Frontend (React + Tailwind + Shadcn/UI)
```
/app/frontend/src/
โโโ components/         # Reusable components
โโโ context/           # React context
โโโ pages/             # Page components
โโโ lib/               # Utilities
```

### ูุงุนุฏุฉ ุงูุจูุงูุงุช (SQLite ุญุงููุงู)
- ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ: users, projects, suppliers, price_catalog, material_requests, purchase_orders
- ุฏุนู PostgreSQL ุฌุงูุฒ ููุชูุนูู

---

## ุงูุฑูุงุจุท
- **Preview URL**: https://procure-flow-18.preview.emergentagent.com
- **Test Reports**: `/app/test_reports/iteration_1.json`
